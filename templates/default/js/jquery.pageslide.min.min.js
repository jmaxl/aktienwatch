(function(d){function g(c,b){if(0===c.indexOf("#")){d(c).clone(!0).appendTo(n.empty()).show()}else{if(b){var h=d("<iframe />").attr({src:c,frameborder:0,hspace:0}).css({width:"100%",height:"100%"});n.html(h)}else{n.load(c)}n.data("localEl",!1)}}function f(c,h){var l=n.outerWidth(!0),k={},j={};if(!n.is(":visible")&&!i){i=!0;switch(c){case"left":n.css({left:"auto",right:"-"+l+"px"});k["margin-left"]="-="+l;j.right="+="+l;break;default:n.css({left:"-"+l+"px",right:"auto"}),k["margin-left"]="+="+l,j.left="+="+l}e.animate(k,h);n.show().animate(j,h,function(){i=!1})}}var e=d("body"),n=d("#pageslide"),i=!1,a;0==n.length&&(n=d("<div />").attr("id","pageslide").css("display","none").appendTo(d("body")));d.fn.pageslide=function(b){this.click(function(c){var j=d(this),h=d.extend({href:j.attr("href")},b);c.preventDefault();c.stopPropagation();n.is(":visible")&&j[0]==a?d.pageslide.close():(d.pageslide(h),a=j[0])})};d.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null};d.pageslide=function(c){var b=d.extend({},d.fn.pageslide.defaults,c);n.is(":visible")&&n.data("direction")!=b.direction?d.pageslide.close(function(){g(b.href,b.iframe);f(b.direction,b.speed)}):(g(b.href,b.iframe),n.is(":hidden")&&f(b.direction,b.speed));n.data(b)};d.pageslide.close=function(m){var b=d("#pageslide"),l=b.outerWidth(!0),k=b.data("speed"),j={},h={};if(!b.is(":hidden")&&!i){i=!0;switch(b.data("direction")){case"left":j["margin-left"]="+="+l;h.right="-="+l;break;default:j["margin-left"]="-="+l,h.left="-="+l}b.animate(h,k);e.animate(j,k,function(){b.hide();i=!1;"undefined"!=typeof m&&m()})}};n.click(function(c){c.stopPropagation()});d(document).bind("click keyup",function(b){"keyup"==b.type&&27!=b.keyCode||n.is(":visible")&&!n.data("modal")&&d.pageslide.close()})})(jQuery);